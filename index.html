<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>בדיקת תאימות eSIM</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
    }
    .card {
      background: #fff;
      width: 100%;
      max-width: 420px;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 18px rgba(0,0,0,0.1);
    }
    h1 {
      margin-top: 0;
      font-size: 22px;
      text-align: center;
    }
    .row { margin-bottom: 10px; font-size: 16px; }
    .label { font-weight: 600; }
    .chip {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 999px;
      font-size: 13px;
      margin-right: 6px;
    }
    .yes { background:#e7f9e7; color:#147114; }
    .no { background:#ffe6e6; color:#b20000; }
    .maybe { background:#fff3d4; color:#664d00; }
    .ua-box {
      margin-top: 14px;
      padding: 8px 10px;
      background:#f7f7f7;
      border-radius: 8px;
      font-size: 11px;
      direction:ltr;
      word-wrap:break-word;
    }
  </style>
</head>
<body>

<div class="card">
  <h1>בדיקת תאימות מכשיר ל-eSIM</h1>

  <div class="row"><span class="label">יצרן משוער:</span> <span id="brand"></span></div>
  <div class="row"><span class="label">דגם משוער:</span> <span id="model"></span></div>
  <div class="row"><span class="label">מערכת הפעלה:</span> <span id="os"></span></div>

  <div class="row">
    <span class="label">תמיכת eSIM:</span>
    <span id="esim" class="chip"></span>
  </div>

  <div class="row">
    <span class="label">תמיכת 5G:</span>
    <span id="fiveg" class="chip"></span>
  </div>

  <div class="ua-box">
    <div><b>User-Agent:</b></div>
    <div id="ua"></div>
  </div>
</div>

<script>
  const db = [
    { regex: /iPhone/i, brand: "Apple", model: "iPhone", os: "iOS", esim: "yes", fiveg: "yes" },
    { regex: /SM-S90|SM-S91|SM-S92/i, brand: "Samsung", model: "Galaxy S22/S23/S24", os: "Android", esim: "yes", fiveg: "yes" },
    { regex: /Xiaomi 1[34]/i, brand: "Xiaomi", model: "Xiaomi 13/14", os: "Android", esim: "yes", fiveg: "yes" },
    { regex: /POCO/i, brand: "POCO", model: "POCO", os: "Android", esim: "maybe", fiveg: "yes" },
  ];

  function updateChip(el, status) {
    el.classList.remove("yes","no","maybe");
    el.classList.add(status);
    el.textContent =
      status === "yes" ? "תומך" :
      status === "no"  ? "לא תומך" :
                         "דורש בדיקה";
  }

  function detect() {
    const ua = navigator.userAgent || "";
    document.getElementById("ua").textContent = ua || "לא זמין";

    let brand = "לא זוהה";
    let model = "לא זוהה";
    let os = /iPhone|iPad|iPod/i.test(ua) ? "iOS" :
             /Android/i.test(ua)          ? "Android" : "לא זוהתה";
    let esim = "maybe";
    let fiveg = "maybe";

    for (const d of db) {
      if (d.regex.test(ua)) {
        brand = d.brand;
        model = d.model;
        os = d.os;
        esim = d.esim;
        fiveg = d.fiveg;
        break;
      }
    }

    document.getElementById("brand").textContent = brand;
    document.getElementById("model").textContent = model;
    document.getElementById("os").textContent    = os;
    updateChip(document.getElementById("esim"),  esim);
    updateChip(document.getElementById("fiveg"), fiveg);
  }

  detect();
</script>

</body>
</html>
